{"version":3,"sources":["../../src/core/Core.test.js"],"names":["sampleImageDataURI","describe","beforeEach","jest","spyOn","mockImplementation","Promise","resolve","it","core","expect","constructor","name","toEqual","getID","core2","id","use","Object","keys","plugins","acquirer","length","toThrowErrorMatchingSnapshot","getPlugin","plugin","iteratePlugins","run","mocks","mock","calls","removePlugin","uninstall","updateAll","foo","update","stateUpdateEventMock","fn","on","setState","bee","newState","capabilities","resumableUploads","files","info","isHidden","message","type","meta","totalProgress","state","getState","coreCancelEventMock","coreStateUpdateEventMock","reset","close","preprocessor","addPreProcessor","preProcessors","preprocessor1","preprocessor2","preprocessor3","removePreProcessor","addFile","source","data","dataURItoFile","then","upload","fileId","emit","mode","value","progress","percentage","bytesUploaded","bytesTotal","uploadComplete","uploadStarted","preprocess","postprocessor","addPostProcessor","postProcessors","postprocessor1","postprocessor2","postprocessor3","removePostProcessor","substring","postprocess","uploader","addUploader","uploaders","uploader1","uploader2","uploader3","removeUploader","onBeforeFileAdded","fileData","fileAddedEventMock","newFile","extension","isRemote","preview","remote","size","undefined","restrictions","allowedFileTypes","Error","catch","e","reject","rejects","toMatchObject","fileRemovedEventMock","removeFile","xit","getFile","foo2","setMeta","bur","boo","updateMeta","calculateProgress","fileId1","fileId2","Date","calculateTotalProgress","resetProgressEvent","resetProgress","autoProceed","maxNumberOfFiles","maxFileSize","error","RealNavigatorOnline","global","window","navigator","onLine","mockNavigatorOnline","status","defineProperty","writable","afterEach","onlineEventMock","offlineEventMock","backOnlineEventMock","updateOnlineStatus","infoVisibleEvent","details","infoTimeoutID","done","infoHiddenEvent","setTimeout","hideInfo","createUpload","uploadId","currentUploads","currentUploadsState","fileIDs","step","removeUpload"],"mappings":"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","file":"Core.test.js","sourcesContent":["import Core from './Core'\nimport utils from './Utils'\nimport Plugin from '../../src/plugins/Plugin'\nimport AcquirerPlugin1 from '../../test/mocks/acquirerPlugin1'\nimport AcquirerPlugin2 from '../../test/mocks/acquirerPlugin2'\nimport InvalidPlugin from '../../test/mocks/invalidPlugin'\nimport InvalidPluginWithoutId from '../../test/mocks/invalidPluginWithoutId'\nimport InvalidPluginWithoutType from '../../test/mocks/invalidPluginWithoutType'\n\nconst sampleImageDataURI =\n  'data:image/jpeg;base64,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'\n\ndescribe('src/Core', () => {\n  beforeEach(() => {\n    jest.spyOn(utils, 'findDOMElement').mockImplementation(path => {\n      return 'some config...'\n    })\n    jest.spyOn(utils, 'createThumbnail').mockImplementation(path => {\n      return Promise.resolve(sampleImageDataURI)\n    })\n  })\n\n  it('should expose a class', () => {\n    const core = Core()\n    expect(core.constructor.name).toEqual('Uppy')\n  })\n\n  it('should have a string `id` option that defaults to \"uppy\"', () => {\n    const core = Core()\n    expect(core.getID()).toEqual('uppy')\n\n    const core2 = Core({ id: 'profile' })\n    expect(core2.getID()).toEqual('profile')\n  })\n\n  describe('plugins', () => {\n    it('should add a plugin to the plugin stack', () => {\n      const core = Core()\n      core.use(AcquirerPlugin1)\n      expect(Object.keys(core.plugins.acquirer).length).toEqual(1)\n    })\n\n    it('should prevent the same plugin from being added more than once', () => {\n      const core = Core()\n      core.use(AcquirerPlugin1)\n\n      expect(() => {\n        core.use(AcquirerPlugin1)\n      }).toThrowErrorMatchingSnapshot()\n    })\n\n    it('should not be able to add an invalid plugin', () => {\n      const core = Core()\n\n      expect(() => {\n        core.use(InvalidPlugin)\n      }).toThrowErrorMatchingSnapshot()\n    })\n\n    it('should not be able to add a plugin that has no id', () => {\n      const core = Core()\n\n      expect(() =>\n        core.use(InvalidPluginWithoutId)\n      ).toThrowErrorMatchingSnapshot()\n    })\n\n    it('should not be able to add a plugin that has no type', () => {\n      const core = Core()\n\n      expect(() =>\n        core.use(InvalidPluginWithoutType)\n      ).toThrowErrorMatchingSnapshot()\n    })\n\n    it('should return the plugin that matches the specified name', () => {\n      const core = new Core()\n      expect(core.getPlugin('foo')).toEqual(false)\n\n      core.use(AcquirerPlugin1)\n      const plugin = core.getPlugin('TestSelector1')\n      expect(plugin.id).toEqual('TestSelector1')\n      expect(plugin instanceof Plugin)\n    })\n\n    it('should call the specified method on all the plugins', () => {\n      const core = new Core()\n      core.use(AcquirerPlugin1)\n      core.use(AcquirerPlugin2)\n      core.iteratePlugins(plugin => {\n        plugin.run('hello')\n      })\n      expect(core.plugins.acquirer[0].mocks.run.mock.calls.length).toEqual(1)\n      expect(core.plugins.acquirer[0].mocks.run.mock.calls[0]).toEqual([\n        'hello'\n      ])\n      expect(core.plugins.acquirer[1].mocks.run.mock.calls.length).toEqual(1)\n      expect(core.plugins.acquirer[1].mocks.run.mock.calls[0]).toEqual([\n        'hello'\n      ])\n    })\n\n    it('should uninstall and the remove the specified plugin', () => {\n      const core = new Core()\n      core.use(AcquirerPlugin1)\n      core.use(AcquirerPlugin2)\n      expect(Object.keys(core.plugins.acquirer).length).toEqual(2)\n\n      const plugin = core.getPlugin('TestSelector1')\n      core.removePlugin(plugin)\n      expect(Object.keys(core.plugins.acquirer).length).toEqual(1)\n      expect(plugin.mocks.uninstall.mock.calls.length).toEqual(1)\n      expect(core.plugins.acquirer[0].mocks.run.mock.calls.length).toEqual(0)\n    })\n  })\n\n  describe('state', () => {\n    it('should update all the plugins with the new state when the updateAll method is called', () => {\n      const core = new Core()\n      core.use(AcquirerPlugin1)\n      core.use(AcquirerPlugin2)\n      core.updateAll({ foo: 'bar' })\n      expect(core.plugins.acquirer[0].mocks.update.mock.calls.length).toEqual(1)\n      expect(core.plugins.acquirer[0].mocks.update.mock.calls[0]).toEqual([\n        { foo: 'bar' }\n      ])\n      expect(core.plugins.acquirer[1].mocks.update.mock.calls.length).toEqual(1)\n      expect(core.plugins.acquirer[1].mocks.update.mock.calls[0]).toEqual([\n        { foo: 'bar' }\n      ])\n    })\n\n    it('should update the state', () => {\n      const core = new Core()\n      const stateUpdateEventMock = jest.fn()\n      core.on('core:state-update', stateUpdateEventMock)\n      core.use(AcquirerPlugin1)\n      core.use(AcquirerPlugin2)\n\n      core.setState({ foo: 'bar', bee: 'boo' })\n      core.setState({ foo: 'baar' })\n\n      const newState = {\n        bee: 'boo',\n        capabilities: { resumableUploads: false },\n        files: {},\n        foo: 'baar',\n        info: { isHidden: true, message: '', type: 'info' },\n        meta: {},\n        plugins: {},\n        totalProgress: 0\n      }\n\n      expect(core.state).toEqual(newState)\n\n      expect(core.plugins.acquirer[0].mocks.update.mock.calls[1]).toEqual([\n        newState\n      ])\n      expect(core.plugins.acquirer[1].mocks.update.mock.calls[1]).toEqual([\n        newState\n      ])\n\n      expect(stateUpdateEventMock.mock.calls.length).toEqual(2)\n      // current state\n      expect(stateUpdateEventMock.mock.calls[1][0]).toEqual({\n        bee: 'boo',\n        capabilities: { resumableUploads: false },\n        files: {},\n        foo: 'bar',\n        info: { isHidden: true, message: '', type: 'info' },\n        meta: {},\n        plugins: {},\n        totalProgress: 0\n      })\n      // new state\n      expect(stateUpdateEventMock.mock.calls[1][1]).toEqual({\n        bee: 'boo',\n        capabilities: { resumableUploads: false },\n        files: {},\n        foo: 'baar',\n        info: { isHidden: true, message: '', type: 'info' },\n        meta: {},\n        plugins: {},\n        totalProgress: 0\n      })\n    })\n\n    it('should get the state', () => {\n      const core = new Core()\n\n      core.setState({ foo: 'bar' })\n\n      expect(core.getState()).toEqual({\n        capabilities: { resumableUploads: false },\n        files: {},\n        foo: 'bar',\n        info: { isHidden: true, message: '', type: 'info' },\n        meta: {},\n        plugins: {},\n        totalProgress: 0\n      })\n    })\n  })\n\n  it('should reset when the reset method is called', () => {\n    const core = new Core()\n    // const corePauseEventMock = jest.fn()\n    const coreCancelEventMock = jest.fn()\n    const coreStateUpdateEventMock = jest.fn()\n    core.on('core:cancel-all', coreCancelEventMock)\n    core.on('core:state-update', coreStateUpdateEventMock)\n    core.setState({ foo: 'bar', totalProgress: 30 })\n\n    core.reset()\n\n    // expect(corePauseEventMock.mock.calls.length).toEqual(1)\n    expect(coreCancelEventMock.mock.calls.length).toEqual(1)\n    expect(coreStateUpdateEventMock.mock.calls.length).toEqual(2)\n    expect(coreStateUpdateEventMock.mock.calls[1][1]).toEqual({\n      capabilities: { resumableUploads: false },\n      files: {},\n      foo: 'bar',\n      info: { isHidden: true, message: '', type: 'info' },\n      meta: {},\n      plugins: {},\n      totalProgress: 0\n    })\n  })\n\n  it('should close, reset and uninstall when the close method is called', () => {\n    const core = new Core()\n    core.use(AcquirerPlugin1)\n\n    // const corePauseEventMock = jest.fn()\n    const coreCancelEventMock = jest.fn()\n    const coreStateUpdateEventMock = jest.fn()\n    // core.on('core:pause-all', corePauseEventMock)\n    core.on('core:cancel-all', coreCancelEventMock)\n    core.on('core:state-update', coreStateUpdateEventMock)\n\n    core.close()\n\n    // expect(corePauseEventMock.mock.calls.length).toEqual(1)\n    expect(coreCancelEventMock.mock.calls.length).toEqual(1)\n    expect(coreStateUpdateEventMock.mock.calls.length).toEqual(1)\n    expect(coreStateUpdateEventMock.mock.calls[0][1]).toEqual({\n      capabilities: { resumableUploads: false },\n      files: {},\n      info: { isHidden: true, message: '', type: 'info' },\n      meta: {},\n      plugins: {},\n      totalProgress: 0\n    })\n    expect(core.plugins.acquirer[0].mocks.uninstall.mock.calls.length).toEqual(\n      1\n    )\n  })\n\n  describe('preprocessors', () => {\n    it('should add a preprocessor', () => {\n      const core = new Core()\n      const preprocessor = function () {}\n      core.addPreProcessor(preprocessor)\n      expect(core.preProcessors[0]).toEqual(preprocessor)\n    })\n\n    it('should remove a preprocessor', () => {\n      const core = new Core()\n      const preprocessor1 = function () {}\n      const preprocessor2 = function () {}\n      const preprocessor3 = function () {}\n      core.addPreProcessor(preprocessor1)\n      core.addPreProcessor(preprocessor2)\n      core.addPreProcessor(preprocessor3)\n      expect(core.preProcessors.length).toEqual(3)\n      core.removePreProcessor(preprocessor2)\n      expect(core.preProcessors.length).toEqual(2)\n    })\n\n    it('should execute all the preprocessors when uploading a file', () => {\n      const core = new Core()\n      const preprocessor1 = jest.fn()\n      const preprocessor2 = jest.fn()\n      core.addPreProcessor(preprocessor1)\n      core.addPreProcessor(preprocessor2)\n\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => core.upload())\n        .then(() => {\n          const fileId = Object.keys(core.state.files)[0]\n          expect(preprocessor1.mock.calls.length).toEqual(1)\n\n          expect(preprocessor1.mock.calls[0][0].length).toEqual(1)\n          expect(preprocessor1.mock.calls[0][0][0]).toEqual(fileId)\n\n          expect(preprocessor2.mock.calls[0][0].length).toEqual(1)\n          expect(preprocessor2.mock.calls[0][0][0]).toEqual(fileId)\n        })\n    })\n\n    it('should update the file progress state when core:preprocess-progress event is fired', () => {\n      const core = new Core()\n      core.run()\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => {\n          const fileId = Object.keys(core.state.files)[0]\n          core.emit('core:preprocess-progress', fileId, {\n            mode: 'determinate',\n            message: 'something',\n            value: 0\n          })\n          expect(core.state.files[fileId].progress).toEqual({\n            percentage: 0,\n            bytesUploaded: 0,\n            bytesTotal: 17175,\n            uploadComplete: false,\n            uploadStarted: false,\n            preprocess: { mode: 'determinate', message: 'something', value: 0 }\n          })\n        })\n    })\n\n    it('should update the file progress state when core:preprocess-complete event is fired', () => {\n      const core = new Core()\n      core.run()\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => {\n          const fileId = Object.keys(core.state.files)[0]\n          core.emit('core:preprocess-complete', fileId, {\n            mode: 'determinate',\n            message: 'something',\n            value: 0\n          })\n          expect(core.state.files[fileId].progress).toEqual({\n            percentage: 0,\n            bytesUploaded: 0,\n            bytesTotal: 17175,\n            uploadComplete: false,\n            uploadStarted: false\n          })\n        })\n    })\n  })\n\n  describe('postprocessors', () => {\n    it('should add a postprocessor', () => {\n      const core = new Core()\n      const postprocessor = function () {}\n      core.addPostProcessor(postprocessor)\n      expect(core.postProcessors[0]).toEqual(postprocessor)\n    })\n\n    it('should remove a postprocessor', () => {\n      const core = new Core()\n      const postprocessor1 = function () {}\n      const postprocessor2 = function () {}\n      const postprocessor3 = function () {}\n      core.addPostProcessor(postprocessor1)\n      core.addPostProcessor(postprocessor2)\n      core.addPostProcessor(postprocessor3)\n      expect(core.postProcessors.length).toEqual(3)\n      core.removePostProcessor(postprocessor2)\n      expect(core.postProcessors.length).toEqual(2)\n    })\n\n    it('should execute all the postprocessors when uploading a file', () => {\n      const core = new Core()\n      const postprocessor1 = jest.fn()\n      const postprocessor2 = jest.fn()\n      core.addPostProcessor(postprocessor1)\n      core.addPostProcessor(postprocessor2)\n\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => core.upload())\n        .then(() => {\n          expect(postprocessor1.mock.calls.length).toEqual(1)\n          // const lastModifiedTime = new Date()\n          // const fileId = 'foojpg' + lastModifiedTime.getTime()\n          const fileId = 'uppy-foojpg-image'\n\n          expect(postprocessor1.mock.calls[0][0].length).toEqual(1)\n          expect(postprocessor1.mock.calls[0][0][0].substring(0, 17)).toEqual(\n            fileId.substring(0, 17)\n          )\n\n          expect(postprocessor2.mock.calls[0][0].length).toEqual(1)\n          expect(postprocessor2.mock.calls[0][0][0].substring(0, 17)).toEqual(\n            fileId.substring(0, 17)\n          )\n        })\n    })\n\n    it('should update the file progress state when core:postprocess-progress event is fired', () => {\n      const core = new Core()\n      core.run()\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => {\n          const fileId = Object.keys(core.state.files)[0]\n          core.emit('core:postprocess-progress', fileId, {\n            mode: 'determinate',\n            message: 'something',\n            value: 0\n          })\n          expect(core.state.files[fileId].progress).toEqual({\n            percentage: 0,\n            bytesUploaded: 0,\n            bytesTotal: 17175,\n            uploadComplete: false,\n            uploadStarted: false,\n            postprocess: { mode: 'determinate', message: 'something', value: 0 }\n          })\n        })\n    })\n\n    it('should update the file progress state when core:postprocess-complete event is fired', () => {\n      const core = new Core()\n      core.run()\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => {\n          const fileId = Object.keys(core.state.files)[0]\n          core.emit('core:postprocess-complete', fileId, {\n            mode: 'determinate',\n            message: 'something',\n            value: 0\n          })\n          expect(core.state.files[fileId].progress).toEqual({\n            percentage: 0,\n            bytesUploaded: 0,\n            bytesTotal: 17175,\n            uploadComplete: false,\n            uploadStarted: false\n          })\n        })\n    })\n  })\n\n  describe('uploaders', () => {\n    it('should add an uploader', () => {\n      const core = new Core()\n      const uploader = function () {}\n      core.addUploader(uploader)\n      expect(core.uploaders[0]).toEqual(uploader)\n    })\n\n    it('should remove an uploader', () => {\n      const core = new Core()\n      const uploader1 = function () {}\n      const uploader2 = function () {}\n      const uploader3 = function () {}\n      core.addUploader(uploader1)\n      core.addUploader(uploader2)\n      core.addUploader(uploader3)\n      expect(core.uploaders.length).toEqual(3)\n      core.removeUploader(uploader2)\n      expect(core.uploaders.length).toEqual(2)\n    })\n  })\n\n  describe('adding a file', () => {\n    it('should call onBeforeFileAdded if it was specified in the options when initailising the class', () => {\n      const onBeforeFileAdded = jest.fn(value => {\n        return Promise.resolve()\n      })\n      const core = new Core({\n        onBeforeFileAdded\n      })\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => {\n          expect(onBeforeFileAdded.mock.calls.length).toEqual(1)\n          expect(onBeforeFileAdded.mock.calls[0][0].name).toEqual('foo.jpg')\n          expect(onBeforeFileAdded.mock.calls[0][1]).toEqual({})\n        })\n    })\n\n    it('should add a file', () => {\n      const fileData = utils.dataURItoFile(sampleImageDataURI, {})\n      const fileAddedEventMock = jest.fn()\n      const core = new Core()\n      core.run()\n      core.on('core:file-added', fileAddedEventMock)\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: fileData\n        })\n        .then(() => {\n          const fileId = Object.keys(core.state.files)[0]\n          const newFile = {\n            extension: 'jpg',\n            id: fileId,\n            isRemote: false,\n            meta: { name: 'foo.jpg', type: 'image/jpeg' },\n            name: 'foo.jpg',\n            preview: sampleImageDataURI,\n            data: fileData,\n            progress: {\n              bytesTotal: 17175,\n              bytesUploaded: 0,\n              percentage: 0,\n              uploadComplete: false,\n              uploadStarted: false\n            },\n            remote: '',\n            size: 17175,\n            source: 'jest',\n            type: 'image/jpeg'\n          }\n          expect(core.state.files[fileId]).toEqual(newFile)\n          newFile.preview = undefined // not sure why this happens.. needs further investigation\n          expect(fileAddedEventMock.mock.calls[0][0]).toEqual(newFile)\n        })\n    })\n\n    it('should not allow a file that does not meet the restrictions', () => {\n      const core = new Core({\n        restrictions: {\n          allowedFileTypes: ['image/gif']\n        }\n      })\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => {\n          throw new Error('File was allowed through')\n        })\n        .catch(e => {\n          expect(e.message).toEqual('File not allowed')\n        })\n    })\n\n    it('should work with restriction errors that are not Error class instances', () => {\n      const core = new Core({\n        onBeforeFileAdded () {\n          return Promise.reject('a plain string') // eslint-disable-line prefer-promise-reject-errors\n        }\n      })\n      return expect(core.addFile({\n        source: 'jest',\n        name: 'foo.jpg',\n        type: 'image/jpeg',\n        data: null\n      })).rejects.toMatchObject({ message: 'onBeforeFileAdded: a plain string' })\n    })\n  })\n\n  describe('uploading a file', () => {})\n\n  describe('removing a file', () => {\n    it('should remove the file', () => {\n      const fileRemovedEventMock = jest.fn()\n\n      const core = new Core()\n      core.on('core:file-removed', fileRemovedEventMock)\n      core.run()\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => {\n          const fileId = Object.keys(core.state.files)[0]\n          expect(Object.keys(core.state.files).length).toEqual(1)\n          core.setState({\n            totalProgress: 50\n          })\n\n          core.removeFile(fileId)\n\n          expect(Object.keys(core.state.files).length).toEqual(0)\n          expect(fileRemovedEventMock.mock.calls[0][0]).toEqual(fileId)\n          expect(core.state.totalProgress).toEqual(0)\n        })\n    })\n  })\n\n  describe('restoring a file', () => {\n    xit('should restore a file', () => {})\n\n    xit(\"should fail to restore a file if it doesn't exist\", () => {})\n  })\n\n  describe('get a file', () => {\n    it('should get the specified file', () => {\n      const core = new Core()\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => {\n          const fileId = Object.keys(core.state.files)[0]\n          expect(core.getFile(fileId).name).toEqual('foo.jpg')\n\n          expect(core.getFile('non existant file')).toEqual(undefined)\n        })\n    })\n  })\n\n  describe('meta data', () => {\n    it('should set meta data by calling setMeta', () => {\n      const core = new Core({\n        meta: { foo2: 'bar2' }\n      })\n      core.setMeta({ foo: 'bar', bur: 'mur' })\n      core.setMeta({ boo: 'moo', bur: 'fur' })\n      expect(core.state.meta).toEqual({\n        foo: 'bar',\n        foo2: 'bar2',\n        boo: 'moo',\n        bur: 'fur'\n      })\n    })\n\n    it('should update meta data for a file by calling updateMeta', () => {\n      const core = new Core()\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => {\n          const fileId = Object.keys(core.state.files)[0]\n          core.updateMeta({ foo: 'bar', bur: 'mur' }, fileId)\n          core.updateMeta({ boo: 'moo', bur: 'fur' }, fileId)\n          expect(core.state.files[fileId].meta).toEqual({\n            name: 'foo.jpg',\n            type: 'image/jpeg',\n            foo: 'bar',\n            bur: 'fur',\n            boo: 'moo'\n          })\n        })\n    })\n\n    it('should update meta data for a file by calling core:update-meta', () => {\n      const core = new Core()\n      core.run()\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => {\n          const fileId = Object.keys(core.state.files)[0]\n          core.emit('core:update-meta', { foo: 'bar', bur: 'mur' }, fileId)\n          core.emit('core:update-meta', { boo: 'moo', bur: 'fur' }, fileId)\n          expect(core.state.files[fileId].meta).toEqual({\n            name: 'foo.jpg',\n            type: 'image/jpeg',\n            foo: 'bar',\n            bur: 'fur',\n            boo: 'moo'\n          })\n        })\n    })\n  })\n\n  describe('progress', () => {\n    it('should calculate the progress of a file upload', () => {\n      const core = new Core()\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => {\n          const fileId = Object.keys(core.state.files)[0]\n          core.calculateProgress({\n            id: fileId,\n            bytesUploaded: 12345,\n            bytesTotal: 17175\n          })\n          expect(core.state.files[fileId].progress).toEqual({\n            percentage: 71,\n            bytesUploaded: 12345,\n            bytesTotal: 17175,\n            uploadComplete: false,\n            uploadStarted: false\n          })\n\n          core.calculateProgress({\n            id: fileId,\n            bytesUploaded: 17175,\n            bytesTotal: 17175\n          })\n          expect(core.state.files[fileId].progress).toEqual({\n            percentage: 100,\n            bytesUploaded: 17175,\n            bytesTotal: 17175,\n            uploadComplete: false,\n            uploadStarted: false\n          })\n        })\n    })\n\n    it('should calculate the total progress of all file uploads', () => {\n      const core = new Core()\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => {\n          return core\n            .addFile({\n              source: 'jest',\n              name: 'foo2.jpg',\n              type: 'image/jpeg',\n              data: utils.dataURItoFile(sampleImageDataURI, {})\n            })\n        }).then(() => {\n          const fileId1 = Object.keys(core.state.files)[0]\n          const fileId2 = Object.keys(core.state.files)[1]\n          core.state.files[fileId1].progress.uploadStarted = new Date()\n          core.state.files[fileId2].progress.uploadStarted = new Date()\n\n          core.calculateProgress({\n            id: fileId1,\n            bytesUploaded: 12345,\n            bytesTotal: 17175\n          })\n\n          core.calculateProgress({\n            id: fileId2,\n            bytesUploaded: 10201,\n            bytesTotal: 17175\n          })\n\n          core.calculateTotalProgress()\n          expect(core.state.totalProgress).toEqual(65)\n        })\n    })\n\n    it('should reset the progress', () => {\n      const resetProgressEvent = jest.fn()\n      const core = new Core()\n      core.run()\n      core.on('core:reset-progress', resetProgressEvent)\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => {\n          return core\n            .addFile({\n              source: 'jest',\n              name: 'foo2.jpg',\n              type: 'image/jpeg',\n              data: utils.dataURItoFile(sampleImageDataURI, {})\n            })\n        }).then(() => {\n          const fileId1 = Object.keys(core.state.files)[0]\n          const fileId2 = Object.keys(core.state.files)[1]\n          core.state.files[fileId1].progress.uploadStarted = new Date()\n          core.state.files[fileId2].progress.uploadStarted = new Date()\n\n          core.calculateProgress({\n            id: fileId1,\n            bytesUploaded: 12345,\n            bytesTotal: 17175\n          })\n\n          core.calculateProgress({\n            id: fileId2,\n            bytesUploaded: 10201,\n            bytesTotal: 17175\n          })\n\n          core.calculateTotalProgress()\n\n          expect(core.state.totalProgress).toEqual(65)\n\n          core.resetProgress()\n\n          expect(core.state.files[fileId1].progress).toEqual({\n            percentage: 0,\n            bytesUploaded: 0,\n            bytesTotal: 17175,\n            uploadComplete: false,\n            uploadStarted: false\n          })\n          expect(core.state.files[fileId2].progress).toEqual({\n            percentage: 0,\n            bytesUploaded: 0,\n            bytesTotal: 17175,\n            uploadComplete: false,\n            uploadStarted: false\n          })\n          expect(core.state.totalProgress).toEqual(0)\n          expect(resetProgressEvent.mock.calls.length).toEqual(1)\n        })\n    })\n  })\n\n  describe('checkRestrictions', () => {\n    it('should enforce the maxNumberOfFiles rule', () => {\n      const core = new Core({\n        autoProceed: false,\n        restrictions: {\n          maxNumberOfFiles: 1\n        }\n      })\n\n      // add 2 files\n      core.addFile({\n        source: 'jest',\n        name: 'foo1.jpg',\n        type: 'image/jpeg',\n        data: utils.dataURItoFile(sampleImageDataURI, {})\n      })\n      return expect(core.addFile({\n        source: 'jest',\n        name: 'foo2.jpg',\n        type: 'image/jpeg',\n        data: utils.dataURItoFile(sampleImageDataURI, {})\n      })).rejects.toMatchObject({ message: 'File not allowed' }).then(() => {\n        expect(core.state.info.message).toEqual('You can only upload 1 file')\n      })\n    })\n\n    xit('should enforce the minNumberOfFiles rule', () => {})\n\n    it('should enfore the allowedFileTypes rule', () => {\n      const core = new Core({\n        autoProceed: false,\n        restrictions: {\n          allowedFileTypes: ['image/gif', 'image/png']\n        }\n      })\n\n      return expect(core.addFile({\n        source: 'jest',\n        name: 'foo2.jpg',\n        type: 'image/jpeg',\n        data: utils.dataURItoFile(sampleImageDataURI, {})\n      })).rejects.toMatchObject({ message: 'File not allowed' }).then(() => {\n        expect(core.state.info.message).toEqual('You can only upload: image/gif, image/png')\n      })\n    })\n\n    it('should enforce the maxFileSize rule', () => {\n      const core = new Core({\n        autoProceed: false,\n        restrictions: {\n          maxFileSize: 1234\n        }\n      })\n\n      return expect(core.addFile({\n        source: 'jest',\n        name: 'foo.jpg',\n        type: 'image/jpeg',\n        data: utils.dataURItoFile(sampleImageDataURI, {})\n      })).rejects.toMatchObject({ message: 'File not allowed' }).then(() => {\n        expect(core.state.info.message).toEqual('This file exceeds maximum allowed size of 1.2 KB')\n      })\n    })\n  })\n\n  describe('actions', () => {\n    it('should update the state when receiving the core:error event', () => {\n      const core = new Core()\n      core.run()\n      core.emit('core:error', { foo: 'bar' })\n      expect(core.state.error).toEqual({foo: 'bar'})\n    })\n\n    it('should update the state when receiving the core:upload-error event', () => {\n      const core = new Core()\n      core.run()\n      core.state.files['fileId'] = {\n        name: 'filename'\n      }\n      core.emit('core:upload-error', 'fileId', { message: 'this is the error' })\n      expect(core.state.info).toEqual({'message': 'Failed to upload filename', 'details': 'this is the error', 'isHidden': false, 'type': 'error'})\n    })\n\n    it('should reset the error state when receiving the core:upload event', () => {\n      const core = new Core()\n      core.run()\n      core.emit('core:error', { foo: 'bar' })\n      core.emit('core:upload')\n      expect(core.state.error).toEqual(null)\n    })\n  })\n\n  describe('updateOnlineStatus', () => {\n    const RealNavigatorOnline = global.window.navigator.onLine\n\n    function mockNavigatorOnline (status) {\n      Object.defineProperty(\n        global.window.navigator,\n        'onLine',\n        {\n          value: status,\n          writable: true\n        }\n      )\n    }\n\n    afterEach(() => {\n      global.window.navigator.onLine = RealNavigatorOnline\n    })\n\n    it('should emit the correct event based on whether there is a network connection', () => {\n      const onlineEventMock = jest.fn()\n      const offlineEventMock = jest.fn()\n      const backOnlineEventMock = jest.fn()\n      const core = new Core()\n      core.on('is-offline', offlineEventMock)\n      core.on('is-online', onlineEventMock)\n      core.on('back-online', backOnlineEventMock)\n\n      mockNavigatorOnline(true)\n      core.updateOnlineStatus()\n      expect(onlineEventMock.mock.calls.length).toEqual(1)\n      expect(offlineEventMock.mock.calls.length).toEqual(0)\n      expect(backOnlineEventMock.mock.calls.length).toEqual(0)\n\n      mockNavigatorOnline(false)\n      core.updateOnlineStatus()\n      expect(onlineEventMock.mock.calls.length).toEqual(1)\n      expect(offlineEventMock.mock.calls.length).toEqual(1)\n      expect(backOnlineEventMock.mock.calls.length).toEqual(0)\n\n      mockNavigatorOnline(true)\n      core.updateOnlineStatus()\n      expect(onlineEventMock.mock.calls.length).toEqual(2)\n      expect(offlineEventMock.mock.calls.length).toEqual(1)\n      expect(backOnlineEventMock.mock.calls.length).toEqual(1)\n    })\n  })\n\n  describe('info', () => {\n    it('should set a string based message to be displayed infinitely', () => {\n      const infoVisibleEvent = jest.fn()\n      const core = new Core()\n      core.run()\n      core.on('core:info-visible', infoVisibleEvent)\n\n      core.info('This is the message', 'info', 0)\n      expect(core.state.info).toEqual({\n        isHidden: false,\n        type: 'info',\n        message: 'This is the message',\n        details: null\n      })\n      expect(infoVisibleEvent.mock.calls.length).toEqual(1)\n      expect(typeof core.infoTimeoutID).toEqual('undefined')\n    })\n\n    it('should set a object based message to be displayed infinitely', () => {\n      const infoVisibleEvent = jest.fn()\n      const core = new Core()\n      core.run()\n      core.on('core:info-visible', infoVisibleEvent)\n\n      core.info({\n        message: 'This is the message',\n        details: {\n          foo: 'bar'\n        }\n      }, 'warning', 0)\n      expect(core.state.info).toEqual({\n        isHidden: false,\n        type: 'warning',\n        message: 'This is the message',\n        details: {\n          foo: 'bar'\n        }\n      })\n      expect(infoVisibleEvent.mock.calls.length).toEqual(1)\n      expect(typeof core.infoTimeoutID).toEqual('undefined')\n    })\n\n    it('should set an info message to be displayed for a period of time before hiding', (done) => {\n      const infoVisibleEvent = jest.fn()\n      const infoHiddenEvent = jest.fn()\n      const core = new Core()\n      core.run()\n      core.on('core:info-visible', infoVisibleEvent)\n      core.on('core:info-hidden', infoHiddenEvent)\n\n      core.info('This is the message', 'info', 100)\n      expect(typeof core.infoTimeoutID).toEqual('number')\n      expect(infoHiddenEvent.mock.calls.length).toEqual(0)\n      setTimeout(() => {\n        expect(infoHiddenEvent.mock.calls.length).toEqual(1)\n        expect(core.state.info).toEqual({\n          isHidden: true,\n          type: 'info',\n          message: 'This is the message',\n          details: null\n        })\n        done()\n      }, 110)\n    })\n\n    it('should hide an info message', () => {\n      const infoVisibleEvent = jest.fn()\n      const infoHiddenEvent = jest.fn()\n      const core = new Core()\n      core.run()\n      core.on('core:info-visible', infoVisibleEvent)\n      core.on('core:info-hidden', infoHiddenEvent)\n\n      core.info('This is the message', 'info', 0)\n      expect(typeof core.infoTimeoutID).toEqual('undefined')\n      expect(infoHiddenEvent.mock.calls.length).toEqual(0)\n      core.hideInfo()\n      expect(infoHiddenEvent.mock.calls.length).toEqual(1)\n      expect(core.state.info).toEqual({\n        isHidden: true,\n        type: 'info',\n        message: 'This is the message',\n        details: null\n      })\n    })\n  })\n\n  describe('createUpload', () => {\n    it('should assign the specified files to a new upload', () => {\n      const core = new Core()\n      core.run()\n      return core.addFile({\n        source: 'jest',\n        name: 'foo.jpg',\n        type: 'image/jpeg',\n        data: utils.dataURItoFile(sampleImageDataURI, {})\n      }).then(() => {\n        core.createUpload(Object.keys(core.state.files))\n        const uploadId = Object.keys(core.state.currentUploads)[0]\n        const currentUploadsState = {}\n        currentUploadsState[uploadId] = {\n          fileIDs: Object.keys(core.state.files),\n          step: 0\n        }\n        expect(core.state.currentUploads).toEqual(currentUploadsState)\n      })\n    })\n  })\n\n  describe('removeUpload', () => {\n    it('should remove all files from the specified upload', () => {\n      // this uploader will run once the upload has started\n      const uploader = () => {\n        return Promise.resolve().then(() => {\n          const uploadId = Object.keys(core.state.currentUploads)[0]\n          expect(typeof core.state.currentUploads[uploadId]).toEqual('object')\n          expect(core.state.currentUploads[uploadId].fileIDs.length).toEqual(1)\n          core.removeUpload(uploadId)\n          expect(typeof core.state.currentUploads[uploadId]).toEqual('undefined')\n        })\n      }\n\n      const core = new Core()\n      core.run()\n      core.addUploader(uploader)\n      return core\n        .addFile({\n          source: 'jest',\n          name: 'foo.jpg',\n          type: 'image/jpeg',\n          data: utils.dataURItoFile(sampleImageDataURI, {})\n        })\n        .then(() => {\n          return core.upload(true)\n        })\n    })\n  })\n})\n"]}